{"remainingRequest":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyx/WebstormProjects/avg-geyser/src/views/main/Wallet.vue?vue&type=style&index=0&id=b8e3ccf6&rel=stylesheet%2Fscss&lang=scss&scoped=true&","dependencies":[{"path":"/Users/lyx/WebstormProjects/avg-geyser/src/views/main/Wallet.vue","mtime":1599887050000},{"path":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/css-loader/index.js","mtime":1599786627683},{"path":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1599786628079},{"path":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/postcss-loader/src/index.js","mtime":1599578983396},{"path":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/sass-loader/dist/cjs.js","mtime":1599786632389},{"path":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/cache-loader/dist/cjs.js","mtime":1599786627641},{"path":"/Users/lyx/WebstormProjects/avg-geyser/node_modules/vue-loader/lib/index.js","mtime":1599786628079}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"../../styles/colors.scss\";\n@import \"../../styles/fonts.scss\";\n\n.wallet-container {\n  max-width: 800px;\n  margin: auto;\n  height: 100%;\n  padding-top: 60px;\n  padding-bottom: 120px;\n\n  .home-logo{\n    width: 120px;\n    height: 120px;\n  }\n\n  .welcome-tit {\n    font-size: 27px;\n    color: $fontColor;\n    letter-spacing: 2px;\n    font-family: $fontTit;\n  }\n  .welcome-txt {\n    margin-bottom: 30px !important;\n    color: $txtColor;\n    font-family: $fontTxt;\n  }\n\n  .balance-col-div,\n  .supply-col-div {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    border-radius: 0;\n    margin-bottom: 15px !important;\n    padding: 15px 0;\n  }\n\n  .geyser-logo {\n    width: 60px;\n    height: 60px;\n    margin: auto;\n  }\n\n  .preview-tit {\n    font-size: 14px;\n    font-family: $fontTxt;\n    color: $txtColor;\n  }\n  .preview-txt {\n    font-size: 27px;\n    font-family: $fontTit;\n  }\n\n  .stats-div {\n    border-top-width: 1px;\n    border-style: solid none none none;\n    border-color: $divBorderColor;\n    padding-top: 15px;\n  }\n  .stats-txt {\n    font-size: 14px;\n    font-family: $fontTxt;\n    color: $txtColor;\n  }\n\n  .wallet-connect-div {\n    //border-width: 1px;\n    //border-style: solid;\n    //border-color: $divBorderColor;\n    //border-image: initial;\n    //border-radius: 0;\n    padding: 30px 15px;\n    margin-bottom: 24px !important;\n  }\n\n  .wallet-connect-tit {\n    font-size: 16px;\n    color: $txtColor;\n    line-height: 28px;\n    font-family: $fontTxt;\n    margin-bottom: 20px;\n  }\n  .wallet-error-txt {\n    font-size: 16px;\n    color: $errColor;\n    line-height: 28px;\n    font-family: $fontTxt;\n    margin-top: 15px;\n  }\n\n  .wallet-btn {\n    height: 80px;\n    max-width: 480px;\n    display: flex;\n    justify-content: left;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: $btnBg;\n    box-shadow: $btnBoxShadow 0 2px 4px 2px;\n    opacity: 1;\n    cursor: pointer;\n    border-radius: 0;\n    padding: 16px 10%;\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    transition: all 0.1s ease 0s;\n  }\n  .wallet-btn-name {\n    margin: 0 0 0 16px;\n    color: $btnFontColor;\n    letter-spacing: 2px;\n    font-family: $fontTit;\n    text-transform: capitalize;\n    font-size: 18px;\n  }\n  .wallet-btn-icon {\n    height: 40px;\n    width: 40px;\n  }\n}\n",{"version":3,"sources":["Wallet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2KA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Wallet.vue","sourceRoot":"src/views/main","sourcesContent":["<template>\n  <div class=\"wallet-container\">\n    <div class=\"row\">\n      <div class=\"col text-center\">\n        <img class=\"home-logo\" :src=\"'/static/logo/logo.png'\" alt=\"\"/>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col text-center welcome-tit\">{{ $t(\"common.welcome\") }}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col text-center welcome-txt\">{{ $t(\"common.welcomeTxt\") }}</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n        <div class=\"balance-col-div\">\n          <div class=\"row\">\n            <div class=\"col-3 d-flex justify-content-around\">\n              <img class=\"geyser-logo\" :src=\"'/static/logo/logo.png'\" alt=\"\"/>\n            </div>\n            <div class=\"col-9\">\n              <p class=\"preview-tit\">{{ $t(\"home.balance\") }}</p>\n              <p v-if=\"userBalance === false\" class=\"preview-txt\">{{ $t(\"home.status\") }}</p>\n              <p v-if=\"userBalance !== false\" class=\"preview-txt\">{{ userBalance }}</p>\n            </div>\n          </div>\n          <div class=\"row stats-div\">\n            <div class=\"col stats-txt\">{{ $t(\"home.pending\") }}</div>\n<!--            <div class=\"col text-right stats-txt\">{{ tokenBalance }} {{ $t(\"token.name\") }}</div>-->\n          </div>\n        </div>\n      </div>\n      <div class=\"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12\">\n        <div class=\"supply-col-div\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <p class=\"preview-tit\">{{ $t(\"home.total\") }}</p>\n              <p v-if=\"!totalReward\" class=\"preview-txt\">{{ $t(\"home.status\") }}</p>\n              <p v-if=\"totalReward\" class=\"preview-txt\">{{ totalReward }}</p>\n            </div>\n          </div>\n          <div class=\"row stats-div\">\n            <div class=\"col-7 stats-txt\">{{ $t(\"home.rewards\") }}</div>\n            <div class=\"col-5 text-right stats-txt\">{{ rewardsBalance }} {{ $t(\"token.name\") }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col\">\n        <div class=\"wallet-connect-div\">\n          <div class=\"row\">\n            <div v-show=\"walletConnectView\" class=\"col text-center wallet-connect-tit\">\n              {{ $t(\"wallet.connect\") }}\n            </div>\n          </div>\n\n          <div class=\"row\">\n            <div class=\"col d-flex justify-content-around\">\n              <button v-show=\"walletConnectView\" type=\"submit\" class=\"wallet-btn\" @click=\"openMetamask\">\n                <img class=\"wallet-btn-icon text-right\" :src=\"'/static/logo/logo.png'\" :alt=\"$t('wallet.metamask')\"/>\n                <h2 class=\"wallet-btn-name text-left\">{{ $t(\"wallet.name\") }}</h2>\n              </button>\n              <button v-show=\"!walletConnectView\" type=\"submit\" class=\"wallet-btn\" @click=\"seeTheMenu\">\n                <img class=\"wallet-btn-icon text-right\" :src=\"'/static/logo/logo.png'\" alt=\"\"/>\n                <h2 class=\"wallet-btn-name text-left\">{{ $t(\"wallet.seeTheMenu\") }}</h2>\n              </button>\n            </div>\n          </div>\n\n          <div class=\"row\" v-show=\"walletConnectError\">\n            <div class=\"col text-center wallet-error-txt\">\n              {{ $t(\"wallet.error\") }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <loading :active.sync=\"loading\"\n             :can-cancel=\"false\"\n             :is-full-page=\"true\"></loading>\n  </div>\n</template>\n\n<script>\nimport chainOpt from \"../../utils/web3/chainOperation\";\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport Decimals from \"decimal.js\"\n\nwindow.mingingPoolInfo = {}\nlet opt = chainOpt.opt\n\nexport default {\n  name: \"Wallet\",\n  components: { Loading },\n\n  data() {\n    return {\n      ConnectWalletModalText: 'Waiting for connection',\n      loading: false,\n      walletConnectView: true,\n      walletConnectError: false,\n\n      tokenBalance: \"0\",\n      rewardsBalance: \"1,000\",\n\n      totalReward: false,\n      userBalance: false,\n    };\n  },\n  methods: {\n\n    async openMetamask() {\n      //wallet connect\n      this.loading = true\n\n      if(!chainOpt.wallet.isConnected()) {\n        chainOpt.wallet.connect()\n          .then(r=>{\n            if(r === null) {\n              //not connect, do nothing\n              this.loading = false\n              return\n            }\n\n            opt.getBlockNum()\n              .then(r=>{\n                console.log(r)\n                if(r > 0) {\n                  let totalReward = new Decimals(r).sub(10841300)\n                  this.totalReward = totalReward.mul(1000).toDP(2, Decimals.ROUND_FLOOR).toString()\n                }\n              })\n            this.loading = false\n            this.walletConnectView = false\n          })\n          .catch(()=>{\n            //unknown error, do nothing\n            this.loading = false\n            this.walletConnectError = true\n          })\n      } else {\n        //already connected\n        opt.getBlockNum()\n            .then(r=>{\n              console.log(r)\n              if(r > 0) {\n                let totalReward = new Decimals(r).sub(760)\n                this.totalReward = totalReward.mul(1000).toDP(2, Decimals.ROUND_FLOOR).toString()\n              }\n            })\n\n        opt.userTokenBalance()\n          .then(r=>{\n            this.userBalance = r\n          })\n        this.loading = false\n        this.walletConnectView = false\n      }\n    },\n    seeTheMenu() {\n      this.$router.push({name: \"Dashboard\"})\n    }\n  },\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n@import \"../../styles/colors.scss\";\n@import \"../../styles/fonts.scss\";\n\n.wallet-container {\n  max-width: 800px;\n  margin: auto;\n  height: 100%;\n  padding-top: 60px;\n  padding-bottom: 120px;\n\n  .home-logo{\n    width: 120px;\n    height: 120px;\n  }\n\n  .welcome-tit {\n    font-size: 27px;\n    color: $fontColor;\n    letter-spacing: 2px;\n    font-family: $fontTit;\n  }\n  .welcome-txt {\n    margin-bottom: 30px !important;\n    color: $txtColor;\n    font-family: $fontTxt;\n  }\n\n  .balance-col-div,\n  .supply-col-div {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    border-radius: 0;\n    margin-bottom: 15px !important;\n    padding: 15px 0;\n  }\n\n  .geyser-logo {\n    width: 60px;\n    height: 60px;\n    margin: auto;\n  }\n\n  .preview-tit {\n    font-size: 14px;\n    font-family: $fontTxt;\n    color: $txtColor;\n  }\n  .preview-txt {\n    font-size: 27px;\n    font-family: $fontTit;\n  }\n\n  .stats-div {\n    border-top-width: 1px;\n    border-style: solid none none none;\n    border-color: $divBorderColor;\n    padding-top: 15px;\n  }\n  .stats-txt {\n    font-size: 14px;\n    font-family: $fontTxt;\n    color: $txtColor;\n  }\n\n  .wallet-connect-div {\n    //border-width: 1px;\n    //border-style: solid;\n    //border-color: $divBorderColor;\n    //border-image: initial;\n    //border-radius: 0;\n    padding: 30px 15px;\n    margin-bottom: 24px !important;\n  }\n\n  .wallet-connect-tit {\n    font-size: 16px;\n    color: $txtColor;\n    line-height: 28px;\n    font-family: $fontTxt;\n    margin-bottom: 20px;\n  }\n  .wallet-error-txt {\n    font-size: 16px;\n    color: $errColor;\n    line-height: 28px;\n    font-family: $fontTxt;\n    margin-top: 15px;\n  }\n\n  .wallet-btn {\n    height: 80px;\n    max-width: 480px;\n    display: flex;\n    justify-content: left;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: $btnBg;\n    box-shadow: $btnBoxShadow 0 2px 4px 2px;\n    opacity: 1;\n    cursor: pointer;\n    border-radius: 0;\n    padding: 16px 10%;\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    transition: all 0.1s ease 0s;\n  }\n  .wallet-btn-name {\n    margin: 0 0 0 16px;\n    color: $btnFontColor;\n    letter-spacing: 2px;\n    font-family: $fontTit;\n    text-transform: capitalize;\n    font-size: 18px;\n  }\n  .wallet-btn-icon {\n    height: 40px;\n    width: 40px;\n  }\n}\n</style>\n"]}]}