{"remainingRequest":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyx/WebstormProjects/tefi-geyser/src/views/list/index.vue?vue&type=style&index=0&id=2916eb2c&rel=stylesheet%2Fscss&lang=scss&scoped=true&","dependencies":[{"path":"/Users/lyx/WebstormProjects/tefi-geyser/src/views/list/index.vue","mtime":1600778154000},{"path":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/css-loader/index.js","mtime":1599786627683},{"path":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1599786628079},{"path":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/postcss-loader/src/index.js","mtime":1599578983396},{"path":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/sass-loader/dist/cjs.js","mtime":1599786632389},{"path":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/cache-loader/dist/cjs.js","mtime":1599786627641},{"path":"/Users/lyx/WebstormProjects/tefi-geyser/node_modules/vue-loader/lib/index.js","mtime":1599786628079}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"../../styles/colors.scss\";\n@import \"../../styles/fonts.scss\";\n\n.list-container {\n  .lists-div {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    border-radius: 15px;\n    padding: 25px 15px 15px;\n    margin-top: 15px !important;\n    background-color: $divBg;\n\n    .product-logo {\n      width: 80px;\n      height: 80px;\n    }\n\n    .product-logo-div {\n      background-color: $bg2;\n      font-size: 36px;\n      height: 120px;\n      width: 120px;\n      border-radius: 60px;\n      -webkit-box-align: center;\n      align-items: center;\n      display: flex;\n      -webkit-box-pack: center;\n      justify-content: center;\n      box-shadow: $btnBoxShadow-sushi 4px 4px 8px inset, $btnBoxShadow-sushi-2 -6px -6px 12px inset;\n      margin: 0 auto 16px;\n    }\n\n    .pdt-name {\n      font-family: $fontTit;\n      font-size: 24px;\n      font-weight: 700;\n    }\n\n    .pdt-tit {\n      font-family: $fontTit;\n      font-size: 16px;\n      font-weight: 700;\n      color: $divBorderColor;\n    }\n\n    .pdt-txt {\n      font-family: $fontTxt;\n      font-size: 14px;\n      font-weight: 400;\n      color: $txtColor;\n    }\n  }\n\n  .d-wallet-btn {\n    height: 80px;\n    width: 290px;\n    display: flex;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    opacity: 1;\n    cursor: pointer;\n    border-radius: 40px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    color: $walletBtnColor;\n    background-color: $btnBg;\n    box-shadow: $btnBoxShadow 0 2px 4px 2px;\n    transition: all 0.1s ease 0s;\n    outline: $walletBtnOutline;\n    margin: 45px 0 !important;\n  }\n  .d-wallet-btn:hover,\n  .d-wallet-btn:focus,\n  .d-wallet-btn:active {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $walletBtnColor;\n    border-image: initial;\n    border-radius: 40px;\n    outline: $walletBtnOutline;\n    color: $walletBtnBg;\n    background-color: $walletBtnColor;\n  }\n  .d-wallet-btn-name {\n    margin: 0 0 0 16px;\n    letter-spacing: 2px;\n    font-family: $fontTit;\n    text-transform: capitalize;\n    font-size: 18px;\n  }\n  .d-wallet-btn-icon {\n    height: 40px;\n    width: 40px;\n  }\n}\n\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6SA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/list","sourcesContent":["<template>\n  <div class=\"list-container\">\n    <div class=\"row\">\n      <div class=\"col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12 text-center\"\n           v-for=\"(p, index) in products\" :key=\"index\">\n        <div class=\"lists-div\">\n          <div class=\"row\">\n            <div class=\"col\">\n              <div class=\"product-logo-div\">\n                <img class=\"product-logo\" :src=\"p.img\" alt=\"\"/>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col\">\n              <p class=\"pdt-name\">{{ p.name }}</p>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col text-left\">\n              <p class=\"pdt-tit\">{{ $t(\"list.info\") }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"token.name\") }} {{ $t(\"list.total\") }}{{ p.totalSupply }}</p>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col text-left\">\n              <p class=\"pdt-tit\">{{ $t(\"list.deposit\") }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"list.total\") }}{{ p.chainInfo.poolStaked }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"list.your\") }}{{ p.chainInfo.userStaked }}</p>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col text-left\">\n              <p class=\"pdt-tit\">{{ $t(\"list.earned\") }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"list.available\") }}{{ p.chainInfo.userReward }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"list.hReward\") }}{{ p.chainInfo.rewardPerHour }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"list.dReward\") }}{{ p.chainInfo.rewardPerDay }}</p>\n              <p class=\"pdt-txt\">{{ $t(\"list.wReward\") }}{{ p.chainInfo.rewardPerWeek }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col d-flex justify-content-around\">\n        <button type=\"submit\" class=\"d-wallet-btn\" @click=\"seeTheMenu\">\n          <img class=\"d-wallet-btn-icon text-right\" :src=\"'/static/logo/logo.png'\" alt=\"\"/>\n          <h2 class=\"d-wallet-btn-name text-left\">{{ $t(\"wallet.seeTheMenu\") }}</h2>\n        </button>\n      </div>\n    </div>\n\n    <loading :active.sync=\"loading\"\n             :can-cancel=\"false\"\n             :is-full-page=\"true\"></loading>\n  </div>\n</template>\n\n<script>\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport chainOpt from \"@/utils/web3/chainOperation\";\nimport {rewardPerBlock, LPTokenToPoolID} from \"@/utils/web3/constant\";\nimport Decimal from \"decimal.js\";\n\nlet opt = chainOpt.opt\n\nlet defaultChainInfo = {\n  supply: 0,\n\n  userStaked: 0,\n  poolStaked: 0,\n\n  rewardPerHour: 0,\n  rewardPerDay: 0,\n  rewardPerWeek: 0,\n}\n\nexport default {\n  name: \"List\",\n  components: { Loading },\n\n  data() {\n    return {\n      queryingFlag: [],\n\n      allBalance: null,\n      poolInfo: [],\n      loading: false,\n\n      allTotal: 0,\n      depositTotal: 0,\n      yourTotal: 0,\n      rewards: 0,\n      hourRewards: 0,\n      dayRewards: 0,\n      weekRewards: 0,\n      products: [\n        {\n          img: \"/static/icon/TEFI.png\",\n          name: \"TEFI, Double!\",\n          txt: \"TEFI\",\n          tx: \"TEFI\",\n          lp: false,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"9600\" ,\n          stat: false,\n          dateTime: \"2020-09-23 20:00:00\",\n          double: false,\n          LPToken: \"TSS89kdrcekgmErvaFv73raFiQePwnun8Z\",\n          link: \"https://justswap.io/#/home?tokenAddress=TSS89kdrcekgmErvaFv73raFiQePwnun8Z&type=swap\",\n        },\n        {\n          img: \"/static/icon/USDT.png\",\n          name: \"USDT to SSO\",\n          txt: \"USDT\",\n          tx: \"USDT\",\n          lp: false,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"1600\" ,\n          stat: false,\n          dateTime: \"2020-09-23 20:00:00\",\n          double: false,\n          LPToken: \"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t\",\n          link: \"https://justswap.io/#/home?tokenAddress=TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t&type=swap\",\n        },\n        {\n          img: \"/static/icon/TEFI-TRX.png\",\n          name: \"TEFI TRX JLP\",\n          txt: \"TEFI-TRX\",\n          tx: \"TEFI-TRX\",\n          lp: true,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"4400\" ,\n          stat: false,\n          dateTime: \"2020-09-23 20:00:00\",\n          double: false,\n          LPToken: \"TVbTu1dVwwcJ4zVNwKdU98aSWkxHWD94jb\",\n          link: \"https://justswap.io/#/home?tokenAddress=TSS89kdrcekgmErvaFv73raFiQePwnun8Z&type=add\",\n        },\n        {\n          img: \"/static/icon/SSO-TRX.png\",\n          name: \"Sirius Oracle!\",\n          txt: \"SSO-TRX JLP\",\n          tx: \"SSO-TRX\",\n          lp: true,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"6000\" ,\n          stat: false,\n          dateTime: \"2020-09-23 20:00:00\",\n          double: false,\n          LPToken: \"\",\n          link: \"https://justswap.io/#/home\",\n        },\n        {\n          img: \"/static/icon/SLM.png\",\n          name: \"Salmon!\",\n          txt: \"SLM\",\n          tx: \"SLM\",\n          lp: false,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"800\" ,\n          stat: false,\n          dateTime: \"2020-09-23 20:00:00\",\n          double: false,\n          LPToken: \"TEbKj6dFUSs6Q6dW5F9R4DZwTWKV9EV2BR\",\n          link: \"https://justswap.io/#/home?tokenAddress=TEbKj6dFUSs6Q6dW5F9R4DZwTWKV9EV2BR&type=swap\",\n        },\n        {\n          img: \"/static/icon/PEARL.png\",\n          name: \"Pearl!\",\n          txt: \"Pearl\",\n          tx: \"PEARL\",\n          lp: false,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"800\" ,\n          stat: false,\n          dateTime: \"2020-09-23 20:00:00\",\n          double: false,\n          LPToken: \"TGbu32VEGpS4kDmjrmn5ZZJgUyHQiaweoq\",\n          link: \"https://justswap.io/#/home?tokenAddress=TGbu32VEGpS4kDmjrmn5ZZJgUyHQiaweoq&type=swap\",\n        },\n        {\n          img: \"/static/icon/TRX.png\",\n          name: \"Tron! TRX!\",\n          txt: \"TRX\",\n          tx: \"TRX\",\n          lp: false,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"400\" ,\n          stat: false,\n          dateTime: \"2020-09-30 20:00:00\",\n          double: true,\n          LPToken: \"TRX\",\n          link: \"https://justswap.io/#/home\",\n        },\n        {\n          img: \"/static/icon/SSO.png\",\n          name: \"SSO,SSO!\",\n          txt: \"SSO\",\n          tx: \"SSO\",\n          lp: false,\n          apy: \"3000\",\n          chainInfo: defaultChainInfo,\n          totalSupply: \"400\" ,\n          stat: false,\n          dateTime: \"2020-09-30 20:00:00\",\n          double: true,\n          LPToken: \"TYoZt51oT8ceAZ9iuX6i4vZLY2KJvc4myF\",\n          link: \"https://justswap.io/#/home\",\n        },\n      ]\n    }\n  },\n\n  mounted() {\n    this.queryInfo()\n  },\n\n  methods: {\n    updatePoolInfo(pid, pool, orgPid) {\n      if(!pool) {\n        return\n      }\n\n      let perBlockReward = new Decimal(rewardPerBlock).mul(pool.poolWeightPercent)\n\n      console.log([pid, pool, orgPid, pool.poolWeightPercent])\n      let chainInfo = {\n        supply: new Decimal(16000).mul(pool.poolWeightPercent).toDP(6, Decimal.ROUND_FLOOR).toString(),\n        userStaked: pool.user.stakeIn.toString(),\n        userReward: pool.userToCollect,\n        poolStaked: pool.pool.staked.toString(),\n\n        rewardPerHour: perBlockReward.mul(28745 / 24).toDP(0, Decimal.ROUND_HALF_CEIL).toString(),\n        rewardPerDay: perBlockReward.mul(28745).toDP(0, Decimal.ROUND_HALF_CEIL).toString(),\n        rewardPerWeek: perBlockReward.mul(7 * 28745).toDP(0, Decimal.ROUND_HALF_CEIL).toString(),\n      }\n\n      let org = this.products[orgPid]\n      org.chainInfo = chainInfo\n      this.$set(this.products, orgPid, org);\n    },\n\n    seeTheMenu() {\n      this.$router.push({name: \"Dashboard\"})\n    },\n\n    async loopQueryGlobalPoolInfo(pid) {\n      await this.queryGlobalPoolInfo(pid)\n      setTimeout(_ => {\n        this.loopQueryGlobalPoolInfo(pid)\n      }, 3000)\n    },\n\n    async queryGlobalPoolInfo(pid) {\n      if (this.queryingFlag[pid]) {\n        return\n      }\n      this.queryingFlag[pid] = true\n\n      let product = this.products[pid]\n      if(!product.stat) {\n        return\n      }\n\n      let orgPid = pid\n      pid = LPTokenToPoolID(this.products[pid].LPToken)\n\n      if (!window.allPoolInfo[pid]) {\n        let pool = await opt.poolInfo(pid)\n        this.queryingFlag[pid] = false\n        this.updatePoolInfo(pid, pool, orgPid)\n        return\n      }\n\n      let pool = window.allPoolInfo[pid]\n      this.updatePoolInfo(pid, pool, orgPid)\n      this.queryingFlag[pid] = false\n    },\n\n    queryInfo() {\n      this.products.forEach((p, i)=>{\n        if(p.stat) {\n          this.loopQueryGlobalPoolInfo(i)\n        }\n      })\n    }\n  },\n}\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\n@import \"../../styles/colors.scss\";\n@import \"../../styles/fonts.scss\";\n\n.list-container {\n  .lists-div {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    border-radius: 15px;\n    padding: 25px 15px 15px;\n    margin-top: 15px !important;\n    background-color: $divBg;\n\n    .product-logo {\n      width: 80px;\n      height: 80px;\n    }\n\n    .product-logo-div {\n      background-color: $bg2;\n      font-size: 36px;\n      height: 120px;\n      width: 120px;\n      border-radius: 60px;\n      -webkit-box-align: center;\n      align-items: center;\n      display: flex;\n      -webkit-box-pack: center;\n      justify-content: center;\n      box-shadow: $btnBoxShadow-sushi 4px 4px 8px inset, $btnBoxShadow-sushi-2 -6px -6px 12px inset;\n      margin: 0 auto 16px;\n    }\n\n    .pdt-name {\n      font-family: $fontTit;\n      font-size: 24px;\n      font-weight: 700;\n    }\n\n    .pdt-tit {\n      font-family: $fontTit;\n      font-size: 16px;\n      font-weight: 700;\n      color: $divBorderColor;\n    }\n\n    .pdt-txt {\n      font-family: $fontTxt;\n      font-size: 14px;\n      font-weight: 400;\n      color: $txtColor;\n    }\n  }\n\n  .d-wallet-btn {\n    height: 80px;\n    width: 290px;\n    display: flex;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    opacity: 1;\n    cursor: pointer;\n    border-radius: 40px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: $divBorderColor;\n    border-image: initial;\n    color: $walletBtnColor;\n    background-color: $btnBg;\n    box-shadow: $btnBoxShadow 0 2px 4px 2px;\n    transition: all 0.1s ease 0s;\n    outline: $walletBtnOutline;\n    margin: 45px 0 !important;\n  }\n  .d-wallet-btn:hover,\n  .d-wallet-btn:focus,\n  .d-wallet-btn:active {\n    border-width: 1px;\n    border-style: solid;\n    border-color: $walletBtnColor;\n    border-image: initial;\n    border-radius: 40px;\n    outline: $walletBtnOutline;\n    color: $walletBtnBg;\n    background-color: $walletBtnColor;\n  }\n  .d-wallet-btn-name {\n    margin: 0 0 0 16px;\n    letter-spacing: 2px;\n    font-family: $fontTit;\n    text-transform: capitalize;\n    font-size: 18px;\n  }\n  .d-wallet-btn-icon {\n    height: 40px;\n    width: 40px;\n  }\n}\n\n</style>\n"]}]}